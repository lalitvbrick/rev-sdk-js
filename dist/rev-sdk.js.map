{"version":3,"sources":["webpack://revSdk/webpack/universalModuleDefinition","webpack://revSdk/./src/Config.ts","webpack://revSdk/./src/Log.ts","webpack://revSdk/./src/VbrickSDK.ts","webpack://revSdk/./src/embed/EmbedVideo.ts","webpack://revSdk/./src/embed/EmbedWebcast.ts","webpack://revSdk/./src/embed/EventBus.ts","webpack://revSdk/./src/embed/VbrickEmbed.ts","webpack://revSdk/./src/embed/VbrickVideoEmbed.ts","webpack://revSdk/./src/embed/VbrickWebcastEmbed.ts","webpack://revSdk/./src/embed/webcastAuth.ts","webpack://revSdk/./src/util.ts","webpack://revSdk/webpack/bootstrap","webpack://revSdk/webpack/runtime/define property getters","webpack://revSdk/webpack/runtime/hasOwnProperty shorthand","webpack://revSdk/webpack/runtime/make namespace object","webpack://revSdk/./src/index.ts"],"names":[],"mappings":"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","file":"rev-sdk.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"revSdk\"] = factory();\n\telse\n\t\troot[\"revSdk\"] = factory();\n})(self, function() {\nreturn ","import { VbrickSDKConfig } from './VbrickSDK';\n\nlet defaultConfig: any = {\n\tshowVideo: true\n};\n\n/**\n * Assign default configuration values that will be applied to future api calls.\n * @param configuration A configuration object.\n *\n * @example\n * Presetting a rev URL:\n * ```\n * revSdk.setDefaultConfig({ baseUrl: 'https://rev1.site.com' })\n * ```\n */\n export function setDefaultConfig(configuration: Partial<VbrickSDKConfig>): void {\n\tdefaultConfig = {\n\t\t...defaultConfig,\n\t\t...configuration\n\t};\n}\n\nexport function resolveConfig(configuration: Partial<VbrickSDKConfig>): VbrickSDKConfig {\n\tconst cfg = {\n\t\t...defaultConfig,\n\t\t...configuration,\n\t};\n\tvalidateConfig(cfg);\n\treturn cfg;\n}\n\nfunction validateConfig(cfg: VbrickSDKConfig): void {\n\tif(!cfg.baseUrl?.match(/^https?:\\/\\//)) {\n\t\tthrow new Error('Rev SDK Error: baseUrl invalid');\n\t}\n}\n","import { VbrickSDKConfig } from \"./VbrickSDK\";\n\nexport interface ILogger {\n\tlog(message?: any, ...optionalParams: any[]): void;\n\terror(message?: any, ...optionalParams: any[]): void;\n}\n\nexport function getLogger(cfg: VbrickSDKConfig): ILogger {\n\treturn cfg.log ? console : {\n\t\tlog: noop,\n\t\terror: noop\n\t};\n}\n\nfunction noop (){}\n","\nexport enum TokenType {\n\tJWT = 'JWT',\n\tACCESS_TOKEN = 'AccessToken'\n}\n\nexport interface VbrickSDKToken {\n\ttype: TokenType;\n\n\t/**\n\t * String containing the token value\n\t */\n\tvalue: string;\n\n\t/**\n\t * The issuer for the token\n\t */\n\tissuer: string;\n}\n\nexport interface VbrickSDKConfig {\n\t/**\n\t * URL for Rev\n\t */\n\tbaseUrl: string;\n\n\t/**\n\t * Token for authentication\n\t */\n\ttoken?: VbrickSDKToken;\n\n\t/**\n\t * If true, sdk will log to console\n\t */\n\tlog?: boolean;\n}\n","import { IVbrickVideoEmbed } from './IVbrickApi';\nimport { VbrickSDKConfig } from '../VbrickSDK';\nimport { VbrickVideoEmbed } from './VbrickVideoEmbed';\nimport { lookupElement } from '../util';\nimport { resolveConfig } from '../Config';\n\n\n/**\n *\n * @param element Container element where the embed content will be rendered. Either an HTMLElement or a CSS Selector string.\n * @param videoId\n * @param config\n * @returns\n */\nexport function embedVideo(\n\telement: HTMLElement | string,\n\tvideoId: string,\n\tconfig: VbrickSDKConfig\n): IVbrickVideoEmbed {\n\tconst el = lookupElement(element);\n\tconst cfg = resolveConfig(config) as VbrickSDKConfig;\n\n\tconst video = new VbrickVideoEmbed(videoId, cfg, el);\n\tvideo.initialize();\n\treturn video;\n}\n","import { IVbrickWebcastEmbed } from './IVbrickApi';\nimport { VbrickWebcastEmbed } from './VbrickWebcastEmbed';\nimport { lookupElement } from '../util';\nimport { resolveConfig } from '../Config';\nimport { VbrickSDKConfig } from '../VbrickSDK';\n\n/**\n * Embeds a webcast on the page\n * @param element  Either a CSS selector string or HTML Element where the embed content will be rendered\n * @param webcastId\n * @param config A configuration object\n * @returns An {@linkcode IVbrickWebcastConfig} object\n *\n * @example\n * Embedding a webcast:\n * ```\n * //In HTML:  <div id=\"webcast-embed\"></div>\n *\n * const webcastId = '0d252797-6db7-44dc-aced-25a6843d529c';\n * revSdk.embedWebcast('#webcast-embed', webcastId, {\n *     showVideo: true,\n *     token\n * });\n * ```\n *\n */\nexport function embedWebcast(\n\telement: HTMLElement | string,\n\twebcastId: string,\n\tconfig: VbrickSDKConfig\n): IVbrickWebcastEmbed {\n\n\tconst el = lookupElement(element);\n\tconst cfg = resolveConfig(config) as VbrickSDKConfig;\n\n\tconst webcast = new VbrickWebcastEmbed(webcastId, cfg, el);\n\twebcast.initialize();\n\treturn webcast;\n}\n\n","import { VbrickSDKConfig } from \"src/VbrickSDK\";\n\nexport interface IListener {\n\t(e: any): void;\n}\n\nexport class EventBus {\n\tprivate win: Window;\n\tprivate msgListener: (e: MessageEvent) => void;\n\tprivate readonly baseUrl: string;\n\tprivate readonly shouldLog: boolean;\n\tprivate isDestroyed: boolean = false;\n\n\tprivate eventHandlers: { [e: string]: IListener[] } = {};\n\n\tconstructor(\n\t\tiframe: HTMLIFrameElement,\n\t\tconfig: VbrickSDKConfig\n\t){\n\t\tthis.win = iframe.contentWindow;\n\t\tthis.msgListener = this.handleMessage.bind(this);\n\n\t\tglobalThis.addEventListener('message', this.msgListener);\n\t\tthis.baseUrl = config.baseUrl;\n\t\tthis.shouldLog = !!config.log;\n\t}\n\n\n\tpublic on(event: string, fn: IListener): () => void {\n\t\tconst handlers = this.getHandlers(event);\n\t\thandlers.push(fn);\n\n\t\treturn () => this.off(event, fn);\n\t}\n\n\tpublic awaitEvent(event: string, failEvent?: string, timeout: number = 30000): Promise<any> {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tconst handler = (fn: (e: any) => void) => e => {\n\t\t\t\tfn(e);\n\t\t\t\tthis.off(event, onEvent);\n\t\t\t\tthis.off(failEvent, onErr);\n\t\t\t\tclearTimeout(timer);\n\t\t\t};\n\n\t\t\tconst onEvent = handler(resolve);\n\t\t\tconst onErr = handler(reject);\n\t\t\tthis.on(event, onEvent);\n\n\t\t\tif(failEvent) {\n\t\t\t\tthis.on(failEvent, onErr);\n\t\t\t}\n\n\t\t\tconst timer = setTimeout(() => {\n\t\t\t\tif (this.isDestroyed) { return; }\n\t\t\t\tonErr(event + ': timeout')\n\t\t\t}, timeout);\n\t\t});\n\t}\n\n\tpublic off(event: string, fn: IListener) {\n\t\tconst handlers = this.getHandlers(event);\n\t\tconst i = handlers.indexOf(fn);\n\t\tif(i >= 0) {\n\t\t\thandlers.splice(i, 1);\n\t\t}\n\t}\n\n\tpublic publish(event: string, msg?: any): void {\n\t\tthis.shouldLog && console.log('rev client posting message. ', event);\n\t\tthis.win.postMessage({\n\t\t\tapp: 'vbrick',\n\t\t\tevent,\n\t\t\tmsg\n\t\t}, this.baseUrl);\n\t}\n\n\tpublic publishError(msg: string, err: any) {\n\t\tthis.callHandlers('error', { msg, err });\n\t\tthis.win.postMessage({\n\t\t\tapp: 'vbrick',\n\t\t\tevent: 'error',\n\t\t\tmsg\n\t\t}, this.baseUrl);\n\t}\n\n\tprivate handleMessage(e: MessageEvent): void {\n\t\tconst data = e.data || {};\n\n\t\tif(e.origin !== this.baseUrl ||\n\t\t\tdata.app !== 'vbrick' ||\n\t\t\t!data.event) {\n\t\t\tthis.shouldLog && console.log('rev SDK dropping inbound message. ', e.data);\n\t\t\treturn;\n\t\t}\n\n\t\tthis.shouldLog && console.log('rev SDK inbound message. ', e.data);\n\n\t\tthis.callHandlers(data.event, data.msg);\n\t}\n\n\tprivate callHandlers(event: string, data: any): void {\n\t\tconst handlers = Array.from(this.getHandlers(event));\n\t\thandlers.forEach(h => h(data));\n\t}\n\n\tprivate getHandlers(event: string): IListener[] {\n\t\tconst h = this.eventHandlers;\n\t\tif(!h[event]) {\n\t\t\th[event] = [];\n\t\t}\n\t\treturn h[event];\n\t}\n\n\tpublic destroy(): void {\n\t\tif (this.isDestroyed) { return; }\n\t\tthis.isDestroyed = true;\n\t\tglobalThis.removeEventListener('message', this.msgListener);\n\t}\n}\n","import { EventBus, IListener } from './EventBus';\nimport { VbrickEmbedConfig } from './VbrickEmbedConfig';\nimport { getLogger, ILogger } from '../Log';\n\n/**\n * Base class for embedded content.\n */\nexport abstract class VbrickEmbed {\n\n\tprotected iframe: HTMLIFrameElement;\n\tprotected eventBus: EventBus;\n\tprivate init: Promise<any>;\n\tprotected unsubscribes: Array<() => void>;\n\tprotected logger: ILogger;\n\n\tconstructor(\n\t\tprotected readonly iframeUrl: string,\n\t\tprotected readonly config: VbrickEmbedConfig,\n\t\tprotected readonly container: HTMLElement\n\t) {\n\t\tthis.logger = getLogger(this.config);\n\t}\n\n\t/**\n\t * Indicates the embedded content was initialized and authenticated.\n\t * If there was a problem loading the content, or a problem with the token, the promise will be rejected.\n\t */\n\tpublic initialize(): Promise<any> {\n\t\tif(this.init) {\n\t\t\treturn this.init;\n\t\t}\n\t\tthis.iframe = this.render();\n\t\tthis.eventBus = new EventBus(this.iframe, this.config);\n\t\tthis.initializeEmbed();\n\n\t\tthis.init = Promise.all([\n\t\t\tthis.initializeToken(),\n\t\t\tthis.eventBus.awaitEvent('load', 'error')\n\t\t])\n\t\t\t.then(([token])=> {\n\t\t\t\tthis.logger.log('embed loaded, authenticating');\n\t\t\t\tthis.eventBus.publish('authenticated', { token });\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tthis.logger.error('Embed initialization error: ', err);\n\n\t\t\t\tthis.eventBus.publishError('Error loading embed content', err);\n\t\t\t});\n\n\t\treturn this.init;\n\t}\n\n\tprotected abstract initializeToken(): Promise<any>;\n\tprotected abstract initializeEmbed(): void;\n\n\tpublic on(event: string, listener: IListener): void {\n\t\tthis.eventBus.on(event, listener);\n\t}\n\n\tpublic off(event: string, listener: IListener): void {\n\t\tthis.eventBus.off(event, listener);\n\t}\n\n\tprivate render(): HTMLIFrameElement {\n\t\tconst iframe = document.createElement('iframe');\n\t\tiframe.setAttribute('frameborder', '0');\n\t\tiframe.setAttribute('allowFullScreen', '')\n\t\tiframe.allow = 'autoplay';\n\t\tiframe.width = this.config.width || '100%';\n\t\tiframe.height = this.config.height || '100%';\n\t\tiframe.src = this.iframeUrl;\n\n\t\tif(this.config.className) {\n\t\t\tiframe.className = this.config.className;\n\t\t}\n\n\t\tthis.container.appendChild(iframe);\n\n\t\treturn iframe;\n\t}\n\n\tpublic destroy(): void {\n\t\tthis.iframe.remove();\n\t\tthis.eventBus.destroy();\n\t\tthis.init = null;\n\t\tthis.unsubscribes?.forEach(fn => fn());\n\t}\n}\n","import { TokenType } from '../VbrickSDK';\nimport { IVbrickVideoEmbed, ICaptionSettings } from './IVbrickApi';\nimport { PlayerStatus } from './PlayerStatus';\nimport { VbrickEmbed } from './VbrickEmbed';\nimport { VbrickEmbedConfig } from './VbrickEmbedConfig';\n\n/**\n * Internal class used to model an embedded video\n */\nexport class VbrickVideoEmbed extends VbrickEmbed implements IVbrickVideoEmbed {\n\n\t /**\n\t * video playing, buffering, etc\n\t */\n\tpublic get playerStatus(): PlayerStatus {\n\t\treturn this._playerStatus;\n\t}\n\tprivate _playerStatus\n\n\t /**\n\t * Player Volume. 0-1\n\t */\n\tpublic get volume(): number {\n\t\treturn this._volume;\n\t}\n\tprivate _volume: number;\n\n\t/**\n\t * Whether captions are enabled, and selected language\n\t */\n\tpublic get captions(): ICaptionSettings {\n\t\treturn this._captions;\n\t}\n\tprivate _captions: ICaptionSettings;\n\n\t/**\n\t * Contains metadata for the video\n\t */\n\tpublic readonly videoInfo: any;\n\n\n\n\tconstructor(\n\t\tvideoId: string,\n\t\tconfig: VbrickEmbedConfig,\n\t\tcontainer: HTMLElement\n\t) {\n\t\tsuper(getEmbedUrl(videoId, config), config, container);\n\t}\n\n\t /**\n\t  * Plays the video if it is paused.\n\t  */\n\tpublic play(): void {\n\t\tthis.eventBus.publish('playVideo');\n\t}\n\t/**\n\t  * Pauses the video if it is playing.\n\t  */\n\tpublic pause(): void {\n\t\tthis.eventBus.publish('pauseVideo');\n\t}\n\n\t/**\n\t * Sets player volume\n\t * @param volume {number} 0-1\n\t */\n\tpublic setVolume(volume: number): void {\n\t\tthis.eventBus.publish('setVolume', { volume });\n\t}\n\n\tprotected initializeToken(): Promise<any> {\n\t\tif(!this.config.token) {\n\t\t\treturn Promise.resolve()\n\t\t}\n\n\t\tif(this.config.token.type !== TokenType.ACCESS_TOKEN) {\n\t\t\treturn Promise.reject('Unsupported token type');\n\t\t}\n\n\t\treturn Promise.resolve({\n\t\t\taccessToken: this.config.token.value\n\t\t});\n\t}\n\n\tprotected initializeEmbed(): void {\n\t\tthis.eventBus.on('playerStatusChanged', e => this._playerStatus = e.status),\n\t\tthis.eventBus.on('volumeChanged', e => this._volume = e.volume),\n\t\tthis.eventBus.on('captionsChanged', e => this._captions = e.captions)\n\t}\n\n\tpublic destroy(): void {\n\t\tsuper.destroy();\n\n\t\tthis.unsubscribes?.forEach(fn => fn());\n\t}\n}\n\nfunction getEmbedUrl(id: string, config: VbrickEmbedConfig): string {\n\tconst query = [\n\t\t['tk', !!config.token],\n\t\t['id', id],\n\t\t['accent', config.accentColor],\n\t\t['autoplay', config.autoplay],\n\t\t['forceClosedCaptions', config.forcedCaptions],\n\t\t['loopVideo', config.playInLoop],\n\t\t['noCc', config.hideCaptions],\n\t\t['noCenterButtons', config.hideOverlayControls],\n\t\t['noChapters', config.hideChapters],\n\t\t['noFullscreen', config.hideFullscreen],\n\t\t['noPlayBar', config.hidePlayControls],\n\t\t['noSettings', config.hideSettings],\n\t\t['placeholder', config.popOut],\n\t\t['startAt', config.startAt],\n\t]\n\t\t.map(([key, value]) =>\n\t\t\t!value ? undefined :\n\t\t\tvalue === true ? key :\n\t\t\t`${key}=${encodeURIComponent(value)}`)\n\t\t.filter(Boolean)\n\t\t.join('&');\n\n\treturn `${config.baseUrl}/embed?${query}`;\n}\n","import { VbrickSDKToken } from '../VbrickSDK';\nimport { IVbrickWebcastEmbed, WebcastStatus } from './IVbrickApi';\nimport { VbrickEmbed } from './VbrickEmbed';\nimport { initializeWebcastToken } from './webcastAuth';\nimport { VbrickEmbedConfig } from './VbrickEmbedConfig';\n\n\nexport class VbrickWebcastEmbed extends VbrickEmbed implements IVbrickWebcastEmbed {\n\n\tprivate _status: WebcastStatus;\n\tpublic get status() {\n\t\treturn this._status;\n\t};\n\n\tconstructor(\n\t\tprivate readonly webcastId: string,\n\t\tconfig: VbrickEmbedConfig,\n\t\tcontainer: HTMLElement\n\t) {\n\t\tsuper(new URL(`/embed/webcast/${webcastId}${config.token ? '?tk' : ''}`, config.baseUrl).toString(), config, container);\n\t}\n\n\tprotected initializeToken(): Promise<VbrickSDKToken> {\n\t\treturn initializeWebcastToken(this.webcastId, this.config);\n\t}\n\n\tprotected initializeEmbed(): void {\n\t\t['webcastStarted', 'broadcastStarted', 'broadcastStopped', 'webcastEnded'].forEach(event => {\n\t\t\tthis.eventBus.on(event, data => this._status = data.status);\n\t\t});\n\n\t\tthis.eventBus.awaitEvent('webcastLoaded').then(data => {\n\t\t\tthis._status = data.status;\n\t\t});\n\t}\n\n}\n","import { TokenType, VbrickSDKConfig, VbrickSDKToken } from \"../VbrickSDK\";\n\nlet promise: Promise<VbrickSDKToken>;\n\nexport function initializeWebcastToken(webcastId: string, config: VbrickSDKConfig): Promise<VbrickSDKToken> {\n\tif(!promise) {\n\t\tpromise = getToken(webcastId, config);\n\t}\n\treturn promise;\n}\n\nfunction getToken(webcastId: string, config: VbrickSDKConfig): Promise<any> {\n\n\tif(config.token?.type !== TokenType.JWT) {\n\t\treturn Promise.resolve({\n\t\t\taccessToken: config.token?.value\n\t\t});\n\t}\n\n\tconst issuer = config.token.issuer;\n\tconst token = config.token.value;\n\n\treturn fetch(`${config.baseUrl}/external/auth/jwt/${webcastId}`, {\n\t\t\tmethod: 'POST',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t'x-requested-with': 'xmlhttprequest'\n\t\t\t},\n\t\t\tbody: `{\n\t\t\t\t\"token\": \"${issuer} ${token}\"\n\t\t\t}`\n\t\t})\n\t\t.then(response => {\n\t\t\tif(!response.ok) {\n\t\t\t\treturn Promise.reject('Unable to authenticate jwt');\n\t\t\t}\n\t\t\treturn response.json();\n\t\t})\n\t\t.then(response => ({\n\t\t\t...response,\n\t\t\tissuer\n\t\t}));\n\n}\n\n","export function isString (val: any): boolean {\n\treturn Object.prototype.toString.call(val) === '[object String]';\n}\n\nexport function lookupElement(element: string | HTMLElement): HTMLElement {\n\tconst el: HTMLElement = element instanceof HTMLElement ? element : document.querySelector(element);\n\n\tif(!el) {\n\t\tthrow new Error('Rev SDK Error: Could not resolve element');\n\t}\n\n\treturn el;\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * A javascript SDK for embedding or calling rev APIs\n *\n * @packageDocumentation\n */\n\nexport { setDefaultConfig } from './Config';\nexport { embedWebcast } from './embed/EmbedWebcast';\nexport { embedVideo } from './embed/EmbedVideo';\n"],"sourceRoot":""}